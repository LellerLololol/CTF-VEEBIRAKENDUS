{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";export function LogoutButton(){const[isLoggedIn,setIsLoggedIn]=useState(false);const navigate=useNavigate();useEffect(()=>{var _document$cookie$spli;const token=(_document$cookie$spli=document.cookie.split('; ').find(row=>row.startsWith('token=')))===null||_document$cookie$spli===void 0?void 0:_document$cookie$spli.split('=')[1];if(token){setIsLoggedIn(true);}},[]);const handleLogout=()=>{//? Kas lege muud viisi selle tegemiseks pole?\ndocument.cookie='token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/';navigate('/Profile');window.location.reload();};if(!isLoggedIn){return null;}return/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{position:'absolute',top:'10px',right:'10px',backgroundColor:'red',color:'white',border:'none',padding:'8px 15px',cursor:'pointer',fontSize:'14px'},children:\"Log Out\"});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","LogoutButton","isLoggedIn","setIsLoggedIn","navigate","_document$cookie$spli","token","document","cookie","split","find","row","startsWith","handleLogout","window","location","reload","onClick","style","position","top","right","backgroundColor","color","border","padding","cursor","fontSize","children"],"sources":["C:/Users/Mike/Code/CTF-VEEBIRAKENDUS/client/src/components/logout.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport function LogoutButton() {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const token = document.cookie\r\n            .split('; ')\r\n            .find(row => row.startsWith('token='))\r\n            ?.split('=')[1];\r\n\r\n        if (token) {\r\n            setIsLoggedIn(true);\r\n        }\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        //? Kas lege muud viisi selle tegemiseks pole?\r\n        document.cookie = 'token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/';\r\n\r\n        navigate('/Profile');\r\n        window.location.reload();\r\n    };\r\n\r\n    if (!isLoggedIn) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <button \r\n                onClick={handleLogout}\r\n                style={{\r\n                    position: 'absolute', \r\n                    top: '10px', \r\n                    right: '10px', \r\n                    backgroundColor: 'red', \r\n                    color: 'white', \r\n                    border: 'none', \r\n                    padding: '8px 15px', \r\n                    cursor: 'pointer',\r\n                    fontSize: '14px'\r\n                }}>\r\n                Log Out\r\n            </button>\r\n    );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/C,MAAO,SAAS,CAAAC,YAAYA,CAAA,CAAG,CAC3B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGN,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAO,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,KAAAS,qBAAA,CACZ,KAAM,CAAAC,KAAK,EAAAD,qBAAA,CAAGE,QAAQ,CAACC,MAAM,CACxBC,KAAK,CAAC,IAAI,CAAC,CACXC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAC,UAAAP,qBAAA,iBAF5BA,qBAAA,CAGRI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAEnB,GAAIH,KAAK,CAAE,CACPH,aAAa,CAAC,IAAI,CAAC,CACvB,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,YAAY,CAAGA,CAAA,GAAM,CACvB;AACAN,QAAQ,CAACC,MAAM,CAAG,uDAAuD,CAEzEJ,QAAQ,CAAC,UAAU,CAAC,CACpBU,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC5B,CAAC,CAED,GAAI,CAACd,UAAU,CAAE,CACb,MAAO,KAAI,CACf,CAEA,mBACQF,IAAA,WACIiB,OAAO,CAAEJ,YAAa,CACtBK,KAAK,CAAE,CACHC,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,MAAM,CACXC,KAAK,CAAE,MAAM,CACbC,eAAe,CAAE,KAAK,CACtBC,KAAK,CAAE,OAAO,CACdC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,UAAU,CACnBC,MAAM,CAAE,SAAS,CACjBC,QAAQ,CAAE,MACd,CAAE,CAAAC,QAAA,CAAC,SAEP,CAAQ,CAAC,CAErB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}